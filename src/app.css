@import 'tailwindcss';

/* Typed custom properties so we can animate the primary color softly */
@property --primary-h {
  syntax: '<number>';
  inherits: true;
  initial-value: 222;
}
@property --primary-s {
  syntax: '<percentage>';
  inherits: true;
  initial-value: 18%;
}
@property --primary-l {
  syntax: '<percentage>';
  inherits: true;
  initial-value: 16%;
}

/* Typed angle for seamless gradient rotation */
/* removed unused: @property --gradient-angle */

/* CTA gradient stop components (typed for smooth color tweens) */
@property --cta1-h { syntax: '<number>'; inherits: true; initial-value: 222; }
@property --cta1-s { syntax: '<percentage>'; inherits: true; initial-value: 18%; }
@property --cta1-l { syntax: '<percentage>'; inherits: true; initial-value: 20%; }
@property --cta2-h { syntax: '<number>'; inherits: true; initial-value: 222; }
@property --cta2-s { syntax: '<percentage>'; inherits: true; initial-value: 22%; }
@property --cta2-l { syntax: '<percentage>'; inherits: true; initial-value: 10%; }

:root {
  --background: hsl(0, 0%, 99%);
  --foreground: hsl(225, 15%, 8%);
  
  /* Build primary from components so it can be animated smoothly */
  --primary-h: 222; /* gray-blue base */
  --primary-s: 18%;
  --primary-l: 16%;
  --primary: hsl(var(--primary-h), var(--primary-s), var(--primary-l));
  
  --muted: hsl(220, 13%, 96%);
  
  /* Accent tuned slightly brighter for CTAs */
  --accent: hsl(215, 70%, 56%);
  
  /* Apply a slightly stronger, quicker color drift */
  animation: primary-shift 48s ease-in-out infinite alternate;
}

/* Fluid font-size tokens for Tailwind v4 utilities */
@theme {
  --font-size-xs: clamp(0.75rem, 0.70rem + 0.35vw, 0.8125rem);
  --font-size-sm: clamp(0.8125rem, 0.78rem + 0.35vw, 0.9375rem);
  --font-size-base: clamp(0.95rem, 0.88rem + 0.55vw, 1.125rem);
  --font-size-lg: clamp(1.0625rem, 0.98rem + 0.65vw, 1.25rem);
  --font-size-xl: clamp(1.1875rem, 1.06rem + 0.85vw, 1.5rem);
  --font-size-2xl: clamp(1.375rem, 1.18rem + 1.2vw, 1.875rem);
  --font-size-3xl: clamp(1.75rem, 1.5rem + 1.6vw, 2.25rem);
  --font-size-4xl: clamp(2.125rem, 1.9rem + 2vw, 3rem);
}

html, body {
  background-color: var(--background);
  color: var(--foreground);
}

/* Base typography and interaction improvements */
body {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter,
    "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  scroll-behavior: smooth;
}

a { color: inherit; text-decoration: none; }

img, svg, video, canvas { display: block; max-width: 100%; height: auto; }

/* Accessible default focus style (customizable per-component with Tailwind) */
:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Utilities (removed unused .container, .card, and .btn* classes) */

/* Reduced motion: respect user preference */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* Scroll-reveal base animation */
.reveal {
  opacity: 0;
  transform: var(--reveal-transform, translateY(12px) scale(0.98));
  filter: var(--reveal-filter, none);
  transition: opacity 600ms cubic-bezier(0.22, 1, 0.36, 1),
              transform 600ms cubic-bezier(0.22, 1, 0.36, 1),
              filter 600ms cubic-bezier(0.22, 1, 0.36, 1);
  will-change: opacity, transform, filter;
}
.reveal.in-view {
  opacity: 1;
  transform: none;
  filter: none;
}

@media (prefers-reduced-motion: reduce) {
  .reveal { opacity: 1; transform: none; }
}

/* Animated gradient keyframes – stronger, corner-to-corner path */
/* removed unused keyframes: gradient-pan */

/* Subtle elliptical drift for backgrounds (different from gradient-pan) */
@keyframes diagonal-pan {
  0%   { background-position: 12% 28%; }
  35%  { background-position: 88% 40%; }
  65%  { background-position: 60% 86%; }
  100% { background-position: 12% 28%; }
}

/* Slow floating movement for highlight layers */
@keyframes layer-float {
  0% { transform: translate3d(-4%, -4%, 0) scale(1); }
  50% { transform: translate3d(4%, 4%, 0) scale(1.02); }
  100% { transform: translate3d(-4%, -4%, 0) scale(1); }
}

/* Stronger, but still tasteful, hue/sat/light drift for var(--primary) */
@keyframes primary-shift {
  0% {
    --primary-h: 218;
    --primary-s: 16%;
    --primary-l: 15%;
  }
  50% {
    --primary-h: 226; /* narrow, gray-blue sweep */
    --primary-s: 22%; /* modest saturation */
    --primary-l: 18%; /* gentle lift */
  }
  100% {
    --primary-h: 218;
    --primary-s: 16%;
    --primary-l: 15%;
  }
}

/* Soft diagonal sheen sweep for overlay elements */
@keyframes sheen-sweep {
  0% { transform: translate3d(-120%, 0, 0) rotate(8deg); opacity: 0; }
  10% { opacity: 0.35; }
  25% { transform: translate3d(120%, 0, 0) rotate(8deg); opacity: 0; }
  100% { transform: translate3d(120%, 0, 0) rotate(8deg); opacity: 0; }
}

/* Perfect-loop gradient spin (no visible endpoints) */
/* removed unused keyframes: spin-gradient */

/* Soft, noticeable but gentle color shift for CTA gradient */
@keyframes cta-shift {
  0% {
    --cta1-h: 222; --cta1-s: 16%; --cta1-l: 20%;
    --cta2-h: 222; --cta2-s: 20%; --cta2-l: 10%;
  }
  50% {
    --cta1-h: 224; --cta1-s: 18%; --cta1-l: 22%;
    --cta2-h: 220; --cta2-s: 18%; --cta2-l: 12%;
  }
  100% {
    --cta1-h: 222; --cta1-s: 16%; --cta1-l: 20%;
    --cta2-h: 222; --cta2-s: 20%; --cta2-l: 10%;
  }
}

/* Soft pulsing halo for bullet indicators */
@keyframes pulse-soft {
  0%   { transform: scale(0.9); opacity: 0.55; }
  60%  { transform: scale(1.75); opacity: 0.0; }
  100% { transform: scale(1.75); opacity: 0.0; }
}

/* Fluid, mobile-friendly typography */
@layer base {
  /* Scale the root size smoothly from mobile → desktop */
  html {
    /* Make body text slightly smaller on narrow screens, scale up to 18px */
    font-size: clamp(14px, 0.7vw + 11.5px, 18px);
  }

  /* Fluid headings for better balance on small screens */
  :where(h1) {
    font-size: clamp(2rem, 1.6rem + 2vw, 3rem);
    line-height: 1.1;
    text-wrap: balance;
  }
  :where(h2) {
    font-size: clamp(1.5rem, 1.2rem + 1.4vw, 2.25rem);
    line-height: 1.2;
    text-wrap: balance;
  }
  :where(h3) {
    font-size: clamp(1.25rem, 1.05rem + 1vw, 1.75rem);
    line-height: 1.25;
    text-wrap: balance;
  }
  :where(h4) {
    font-size: clamp(1.05rem, 0.95rem + 0.6vw, 1.25rem);
    line-height: 1.3;
    text-wrap: balance;
  }
}

/* Safety net: downsize any hard-coded px text on small screens */
@layer utilities {
  @media (max-width: 640px) {
    [class*="text-[20px]"] { font-size: clamp(0.95rem, 0.9rem + 0.5vw, 1.125rem) !important; }
    [class*="text-[26px]"] { font-size: clamp(1.25rem, 1.1rem + 1vw, 1.625rem) !important; }
    [class*="text-[18px]"] { font-size: clamp(0.95rem, 0.9rem + 0.25vw, 1.125rem) !important; }
    [class*="text-[16px]"] { font-size: clamp(0.9rem, 0.85rem + 0.2vw, 1rem) !important; }
  }
}

/* Ensure exact three-line descriptions when desired */
@layer utilities {
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
