@import 'tailwindcss';

/* Typed custom properties so we can animate the primary color softly */
@property --primary-h {
  syntax: '<number>';
  inherits: true;
  initial-value: 222;
}
@property --primary-s {
  syntax: '<percentage>';
  inherits: true;
  initial-value: 18%;
}
@property --primary-l {
  syntax: '<percentage>';
  inherits: true;
  initial-value: 16%;
}

/* Typed angle for seamless gradient rotation */
@property --gradient-angle {
  syntax: '<angle>';
  inherits: true;
  initial-value: 135deg;
}

/* CTA gradient stop components (typed for smooth color tweens) */
@property --cta1-h { syntax: '<number>'; inherits: true; initial-value: 222; }
@property --cta1-s { syntax: '<percentage>'; inherits: true; initial-value: 18%; }
@property --cta1-l { syntax: '<percentage>'; inherits: true; initial-value: 20%; }
@property --cta2-h { syntax: '<number>'; inherits: true; initial-value: 222; }
@property --cta2-s { syntax: '<percentage>'; inherits: true; initial-value: 22%; }
@property --cta2-l { syntax: '<percentage>'; inherits: true; initial-value: 10%; }

:root {
  --background: hsl(0, 0%, 99%);
  --foreground: hsl(225, 15%, 8%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(225, 15%, 8%);
  /* Build primary from components so it can be animated smoothly */
  --primary-h: 222; /* gray-blue base */
  --primary-s: 18%;
  --primary-l: 16%;
  --primary: hsl(var(--primary-h), var(--primary-s), var(--primary-l));
  --primary-foreground: hsl(0, 0%, 98%);
  --secondary: hsl(220, 13%, 95%);
  --secondary-foreground: hsl(225, 15%, 8%);
  --muted: hsl(220, 13%, 96%);
  --muted-foreground: hsl(225, 8%, 45%);
  /* Accent tuned slightly brighter for CTAs */
  --accent: hsl(215, 70%, 56%);
  --accent-foreground: hsl(0, 0%, 98%);
  --border: hsl(220, 13%, 91%);
  --radius: 0.75rem;
  /* Apply a slightly stronger, quicker color drift */
  animation: primary-shift 48s ease-in-out infinite alternate;
}

html, body {
  background-color: var(--background);
  color: var(--foreground);
}

/* Base typography and interaction improvements */
body {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter,
    "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  scroll-behavior: smooth;
}

a { color: inherit; text-decoration: none; }

img, svg, video, canvas { display: block; max-width: 100%; height: auto; }

/* Accessible default focus style (customizable per-component with Tailwind) */
:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Utilities */
.container {
  width: 100%;
  max-width: 80rem; /* ~1280px */
  margin-inline: auto;
  padding-inline: clamp(1rem, 3vw, 2rem);
}

.card {
  background: var(--card);
  color: var(--card-foreground);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: 0 1px 2px rgba(0,0,0,.04), 0 6px 24px -12px rgba(0,0,0,.14);
}

.btn { display: inline-flex; align-items: center; gap: .5rem; border-radius: calc(var(--radius) - 2px); font-weight: 600; }
.btn-primary { background: var(--accent); color: white; padding: .625rem 1rem; }
.btn-primary:hover { filter: brightness(1.03); }
.btn-ghost { border: 1px solid color-mix(in oklch, white 20%, transparent); background: color-mix(in oklch, white 10%, transparent); color: white; padding: .625rem 1rem; }
.btn-ghost:hover { background: color-mix(in oklch, white 15%, transparent); }

/* Reduced motion: respect user preference */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* Scroll-reveal base animation */
.reveal {
  opacity: 0;
  transform: var(--reveal-transform, translateY(12px) scale(0.98));
  filter: var(--reveal-filter, none);
  transition: opacity 600ms cubic-bezier(0.22, 1, 0.36, 1),
              transform 600ms cubic-bezier(0.22, 1, 0.36, 1),
              filter 600ms cubic-bezier(0.22, 1, 0.36, 1);
  will-change: opacity, transform, filter;
}
.reveal.in-view {
  opacity: 1;
  transform: none;
  filter: none;
}

@media (prefers-reduced-motion: reduce) {
  .reveal { opacity: 1; transform: none; }
}

/* Animated gradient keyframes â€“ stronger, corner-to-corner path */
@keyframes gradient-pan {
  0%   { background-position: 0% 0%; }
  25%  { background-position: 100% 0%; }
  50%  { background-position: 100% 100%; }
  75%  { background-position: 0% 100%; }
  100% { background-position: 0% 0%; }
}

/* Subtle elliptical drift for backgrounds (different from gradient-pan) */
@keyframes diagonal-pan {
  0%   { background-position: 12% 28%; }
  35%  { background-position: 88% 40%; }
  65%  { background-position: 60% 86%; }
  100% { background-position: 12% 28%; }
}

/* Slow floating movement for highlight layers */
@keyframes layer-float {
  0% { transform: translate3d(-4%, -4%, 0) scale(1); }
  50% { transform: translate3d(4%, 4%, 0) scale(1.02); }
  100% { transform: translate3d(-4%, -4%, 0) scale(1); }
}

/* Stronger, but still tasteful, hue/sat/light drift for var(--primary) */
@keyframes primary-shift {
  0% {
    --primary-h: 218;
    --primary-s: 16%;
    --primary-l: 15%;
  }
  50% {
    --primary-h: 226; /* narrow, gray-blue sweep */
    --primary-s: 22%; /* modest saturation */
    --primary-l: 18%; /* gentle lift */
  }
  100% {
    --primary-h: 218;
    --primary-s: 16%;
    --primary-l: 15%;
  }
}

/* Soft diagonal sheen sweep for overlay elements */
@keyframes sheen-sweep {
  0% { transform: translate3d(-120%, 0, 0) rotate(8deg); opacity: 0; }
  10% { opacity: 0.35; }
  25% { transform: translate3d(120%, 0, 0) rotate(8deg); opacity: 0; }
  100% { transform: translate3d(120%, 0, 0) rotate(8deg); opacity: 0; }
}

/* Perfect-loop gradient spin (no visible endpoints) */
@keyframes spin-gradient {
  0%   { --gradient-angle: 135deg; }
  100% { --gradient-angle: 495deg; } /* 135 + 360 */
}

/* Soft, noticeable but gentle color shift for CTA gradient */
@keyframes cta-shift {
  0% {
    --cta1-h: 222; --cta1-s: 16%; --cta1-l: 20%;
    --cta2-h: 222; --cta2-s: 20%; --cta2-l: 10%;
  }
  50% {
    --cta1-h: 224; --cta1-s: 18%; --cta1-l: 22%;
    --cta2-h: 220; --cta2-s: 18%; --cta2-l: 12%;
  }
  100% {
    --cta1-h: 222; --cta1-s: 16%; --cta1-l: 20%;
    --cta2-h: 222; --cta2-s: 20%; --cta2-l: 10%;
  }
}
